(()=>{"use strict";({136:function(){var e=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,c){function r(e){try{a(n.next(e))}catch(e){c(e)}}function d(e){try{a(n.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,d)}a((n=n.apply(e,t||[])).next())}))};chrome.runtime.onInstalled.addListener((()=>{chrome.action.setBadgeText({text:"OFF"})}));let t,i=!1,n=!1;chrome.action.onClicked.addListener((o=>e(void 0,void 0,void 0,(function*(){var c,r;if((null===(c=null==o?void 0:o.url)||void 0===c?void 0:c.startsWith("https://developer.chrome.com/docs/extensions"))||(null===(r=null==o?void 0:o.url)||void 0===r?void 0:r.startsWith("https://www.kucoin.com"))){const c="ON"===(yield chrome.action.getBadgeText({tabId:o.id}))?"OFF":"ON";yield chrome.scripting.executeScript({target:{tabId:o.id},files:["infoBar.js"]}),yield chrome.action.setBadgeText({tabId:o.id,text:c});const r=()=>e(void 0,void 0,void 0,(function*(){yield chrome.scripting.removeCSS({files:["focus-mode.css"],target:{tabId:o.id}}),chrome.scripting.executeScript({target:{tabId:o.id},func:()=>{const e=document.getElementById("popup-container-lazarus");null==e||e.remove()}})}));"ON"===c?(t=setInterval((()=>e(void 0,void 0,void 0,(function*(){try{const e=yield fetch("http://127.0.0.1:96/blockTrading");try{i="True"===(yield e.text())}catch(e){console.warn(e)}if(i===n)return;n=i,i?(yield chrome.scripting.insertCSS({files:["focus-mode.css"],target:{tabId:o.id}}),chrome.scripting.executeScript({target:{tabId:o.id},args:[{heroImgSrc:chrome.runtime.getURL("bomb.png"),bgImgSrc:chrome.runtime.getURL("background.jpg"),htmlSrc:chrome.runtime.getURL("popup.html"),audioSrc:chrome.runtime.getURL("soothing-audio-1.mp3")}],func:e=>{fetch(e.htmlSrc).then((e=>e.text())).then((t=>{const i=document.createElement("div");i.innerHTML=t,i.id="popup-container-lazarus";const n=document.createElement("style");n.innerHTML=`\n                    .bg_image {\n                      background-image: url(${e.bgImgSrc});\n                    }\n                  `,i.appendChild(n),i.querySelector("img").src=e.heroImgSrc;const o=document.createElement("audio");i.appendChild(o),o.src=e.audioSrc,o.volume=1,o.loop=!0,o.autoplay=!0,document.body.appendChild(i)}))}})):yield r()}catch(e){console.warn(e)}}))),3e3),yield chrome.scripting.insertCSS({files:["infoBar.css"],target:{tabId:o.id}})):(yield chrome.scripting.removeCSS({files:["infoBar.css"],target:{tabId:o.id}}),yield r())}}))))}})[136]()})();